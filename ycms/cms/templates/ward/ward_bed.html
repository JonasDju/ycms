{% load i18n %}

<div class="flex flex-col gap-1 w-full">
    <!-- Bed Icon and Color Based on Gender -->
    <div class="flex flex-col items-center">
        <i icon-name="bed-single"
           class="w-10 h-10 rounded-lg {% if gender == 'm' %}bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100{% else %}bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100{% endif %}"></i>
    </div>

    <!-- Progress Bar for Discharge -->
    {% if current_stay.discharge_date %}
        <div class="flex justify-end">
            <span class="text-sm font-medium {% if gender == 'm' %}text-blue-700{% else %}text-red-700{% endif %} dark:text-white">
                {{ current_stay.progress }}%
            </span>
        </div>
        <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
            <div class="progress-bar {% if gender == 'm' %}bg-blue-600{% else %}bg-red-600{% endif %} h-2.5 rounded-full"
                 data-progress="{{ current_stay.progress }}"></div>
        </div>
        <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300">
            {% translate "Discharge in" %}: {{ current_stay.until_discharge }}
        </span>
    {% endif %}

    <!-- Stay Duration -->
    <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300">
        {% translate "Stay" %}: {{ current_stay.duration }}
    </span>

    <!-- Accompanied Icon -->
    {% if current_stay.accompanied %}
        <div class="flex flex-col gap-1 w-full col-start-2">
            <div class="flex flex-col items-center">
                <i icon-name="users" class="w-10 h-10 rounded-lg bg-gray-100 text-gray-600"></i>
            </div>
            <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300">
                {% translate "Accompanied" %}
            </span>
        </div>
    {% endif %}
</div>